{"version":3,"sources":["../../../../../qreact-app/node_modules/uglify-js/lib/scope.js"],"names":["SymbolDef","scope","index","orig","name","references","global","mangled_name","undeclared","id","next_id","prototype","unmangleable","options","toplevel","eval","uses_eval","uses_with","keep_fnames","AST_SymbolLambda","AST_SymbolDefun","mangle","cache","props","has","get","s","sym","ie8","parent_scope","def","defun","variables","next_mangled","set","AST_Toplevel","DEFMETHOD","defaults","self","labels","Dictionary","tw","TreeWalker","node","descend","AST_Catch","save_scope","AST_Scope","init_scope_vars","save_defun","save_labels","AST_LabeledStatement","l","label","Error","string_template","del","AST_With","AST_Symbol","AST_Label","thedef","def_function","AST_SymbolVar","def_variable","mark_enclosed","find_variable","reference","AST_SymbolCatch","AST_LabelRef","line","start","col","walk","globals","AST_LoopControl","push","AST_SymbolRef","parent","AST_Call","AST_Lambda","uses_arguments","def_global","refs","forEach","ref","cname","g","size","functions","enclosed","apply","arguments","AST_SymbolFunarg","end","definition","push_uniq","each","d","symbol","ext","out","m","base54","is_identifier","reserved","indexOf","i","length","AST_Function","tricky_def","tricky_name","call","return_false","_default_mangler_options","lname","to_mangle","save_nesting","p","a","AST_Constant","consider","print_to_string","AST_Return","AST_Throw","AST_Continue","AST_Break","AST_Debugger","AST_Directive","value","AST_While","AST_Do","AST_If","alternative","AST_Var","AST_For","AST_ForIn","AST_Switch","AST_Case","AST_Default","AST_ObjectSetter","key","AST_ObjectGetter","AST_ObjectKeyVal","AST_New","AST_This","AST_Try","AST_Finally","AST_Unary","AST_Binary","operator","AST_Dot","property","sort","string","chars","frequency","reset","Object","create","split","map","ch","charCodeAt","str","code","mergeSort","b","is_digit","freq","num","ret","base","String","fromCharCode","Math","floor"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;;AAEA,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,KAA1B,EAAiCC,IAAjC,EAAuC;AACnC,SAAKC,IAAL,GAAYD,KAAKC,IAAjB;AACA,SAAKD,IAAL,GAAY,CAAEA,IAAF,CAAZ;AACA,SAAKF,KAAL,GAAaA,KAAb;AACA,SAAKI,UAAL,GAAkB,EAAlB;AACA,SAAKC,MAAL,GAAc,KAAd;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKN,KAAL,GAAaA,KAAb;AACA,SAAKO,EAAL,GAAUT,UAAUU,OAAV,EAAV;AACH;;AAEDV,UAAUU,OAAV,GAAoB,CAApB;;AAEAV,UAAUW,SAAV,GAAsB;AAClBC,kBAAc,sBAASC,OAAT,EAAkB;AAC5B,YAAI,CAACA,OAAL,EAAcA,UAAU,EAAV;;AAEd,eAAQ,KAAKP,MAAL,IAAe,CAACO,QAAQC,QAAzB,IACA,KAAKN,UADL,IAEC,CAACK,QAAQE,IAAT,KAAkB,KAAKd,KAAL,CAAWe,SAAX,IAAwB,KAAKf,KAAL,CAAWgB,SAArD,CAFD,IAGCJ,QAAQK,WAAR,KACI,KAAKf,IAAL,CAAU,CAAV,aAAwBgB,gBAAxB,IACG,KAAKhB,IAAL,CAAU,CAAV,aAAwBiB,eAF/B,CAHR;AAMH,KAViB;AAWlBC,YAAQ,gBAASR,OAAT,EAAkB;AACtB,YAAIS,QAAQT,QAAQS,KAAR,IAAiBT,QAAQS,KAAR,CAAcC,KAA3C;AACA,YAAI,KAAKjB,MAAL,IAAegB,KAAf,IAAwBA,MAAME,GAAN,CAAU,KAAKpB,IAAf,CAA5B,EAAkD;AAC9C,iBAAKG,YAAL,GAAoBe,MAAMG,GAAN,CAAU,KAAKrB,IAAf,CAApB;AACH,SAFD,MAGK,IAAI,CAAC,KAAKG,YAAN,IAAsB,CAAC,KAAKK,YAAL,CAAkBC,OAAlB,CAA3B,EAAuD;AACxD,gBAAIa,IAAI,KAAKzB,KAAb;AACA,gBAAI0B,MAAM,KAAKxB,IAAL,CAAU,CAAV,CAAV;AACA,gBAAIU,QAAQe,GAAR,IAAeD,eAAeR,gBAAlC,EACIO,IAAIA,EAAEG,YAAN;AACJ,gBAAIC,GAAJ;AACA,gBAAI,KAAKC,KAAL,KAAeD,MAAM,KAAKC,KAAL,CAAWC,SAAX,CAAqBP,GAArB,CAAyB,KAAKrB,IAA9B,CAArB,CAAJ,EAA+D;AAC3D,qBAAKG,YAAL,GAAoBuB,IAAIvB,YAAJ,IAAoBuB,IAAI1B,IAA5C;AACH,aAFD,MAGI,KAAKG,YAAL,GAAoBmB,EAAEO,YAAF,CAAepB,OAAf,EAAwB,IAAxB,CAApB;AACJ,gBAAI,KAAKP,MAAL,IAAegB,KAAnB,EAA0B;AACtBA,sBAAMY,GAAN,CAAU,KAAK9B,IAAf,EAAqB,KAAKG,YAA1B;AACH;AACJ;AACJ;AA9BiB,CAAtB;;AAiCA4B,aAAaC,SAAb,CAAuB,kBAAvB,EAA2C,UAASvB,OAAT,EAAiB;AACxDA,cAAUwB,SAASxB,OAAT,EAAkB;AACxBS,eAAO,IADiB;AAExBM,aAAK;AAFmB,KAAlB,CAAV;;AAKA;AACA,QAAIU,OAAO,IAAX;AACA,QAAIrC,QAAQqC,KAAKT,YAAL,GAAoB,IAAhC;AACA,QAAIU,SAAS,IAAIC,UAAJ,EAAb;AACA,QAAIT,QAAQ,IAAZ;AACA,QAAIU,KAAK,IAAIC,UAAJ,CAAe,UAASC,IAAT,EAAeC,OAAf,EAAuB;AAC3C,YAAID,gBAAgBE,SAApB,EAA+B;AAC3B,gBAAIC,aAAa7C,KAAjB;AACAA,oBAAQ,IAAI8C,SAAJ,CAAcJ,IAAd,CAAR;AACA1C,kBAAM+C,eAAN,CAAsBF,UAAtB;AACAF;AACA3C,oBAAQ6C,UAAR;AACA,mBAAO,IAAP;AACH;AACD,YAAIH,gBAAgBI,SAApB,EAA+B;AAC3BJ,iBAAKK,eAAL,CAAqB/C,KAArB;AACA,gBAAI6C,aAAa7C,KAAjB;AACA,gBAAIgD,aAAalB,KAAjB;AACA,gBAAImB,cAAcX,MAAlB;AACAR,oBAAQ9B,QAAQ0C,IAAhB;AACAJ,qBAAS,IAAIC,UAAJ,EAAT;AACAI;AACA3C,oBAAQ6C,UAAR;AACAf,oBAAQkB,UAAR;AACAV,qBAASW,WAAT;AACA,mBAAO,IAAP,CAX2B,CAWP;AACvB;AACD,YAAIP,gBAAgBQ,oBAApB,EAA0C;AACtC,gBAAIC,IAAIT,KAAKU,KAAb;AACA,gBAAId,OAAOf,GAAP,CAAW4B,EAAEhD,IAAb,CAAJ,EAAwB;AACpB,sBAAM,IAAIkD,KAAJ,CAAUC,gBAAgB,4BAAhB,EAA8CH,CAA9C,CAAV,CAAN;AACH;AACDb,mBAAOL,GAAP,CAAWkB,EAAEhD,IAAb,EAAmBgD,CAAnB;AACAR;AACAL,mBAAOiB,GAAP,CAAWJ,EAAEhD,IAAb;AACA,mBAAO,IAAP,CARsC,CAQlB;AACvB;AACD,YAAIuC,gBAAgBc,QAApB,EAA8B;AAC1B,iBAAK,IAAI/B,IAAIzB,KAAb,EAAoByB,CAApB,EAAuBA,IAAIA,EAAEG,YAA7B;AACIH,kBAAET,SAAF,GAAc,IAAd;AADJ,aAEA;AACH;AACD,YAAI0B,gBAAgBe,UAApB,EAAgC;AAC5Bf,iBAAK1C,KAAL,GAAaA,KAAb;AACH;AACD,YAAI0C,gBAAgBgB,SAApB,EAA+B;AAC3BhB,iBAAKiB,MAAL,GAAcjB,IAAd;AACAA,iBAAKtC,UAAL,GAAkB,EAAlB;AACH;AACD,YAAIsC,gBAAgBxB,gBAApB,EAAsC;AAClCY,kBAAM8B,YAAN,CAAmBlB,IAAnB;AACH,SAFD,MAGK,IAAIA,gBAAgBvB,eAApB,EAAqC;AACtC;AACA;AACA;AACA;AACA;AACA,aAACuB,KAAK1C,KAAL,GAAa8B,MAAMF,YAApB,EAAkCgC,YAAlC,CAA+ClB,IAA/C;AACH,SAPI,MAQA,IAAIA,gBAAgBmB,aAApB,EAAmC;AACpC/B,kBAAMgC,YAAN,CAAmBpB,IAAnB;AACA,gBAAIZ,UAAU9B,KAAd,EAAqB;AACjB0C,qBAAKqB,aAAL,CAAmBnD,OAAnB;AACA,oBAAIiB,MAAM7B,MAAMgE,aAAN,CAAoBtB,IAApB,CAAV;AACA,oBAAIA,KAAKiB,MAAL,KAAgB9B,GAApB,EAAyB;AACrBa,yBAAKiB,MAAL,GAAc9B,GAAd;AACAa,yBAAKuB,SAAL,CAAerD,OAAf;AACH;AACJ;AACJ,SAVI,MAWA,IAAI8B,gBAAgBwB,eAApB,EAAqC;AACtClE,kBAAM8D,YAAN,CAAmBpB,IAAnB,EAAyBZ,KAAzB,GAAiCA,KAAjC;AACH,SAFI,MAGA,IAAIY,gBAAgByB,YAApB,EAAkC;AACnC,gBAAIzC,MAAMY,OAAOd,GAAP,CAAWkB,KAAKvC,IAAhB,CAAV;AACA,gBAAI,CAACuB,GAAL,EAAU,MAAM,IAAI2B,KAAJ,CAAUC,gBAAgB,uCAAhB,EAAyD;AAC/EnD,sBAAMuC,KAAKvC,IADoE;AAE/EiE,sBAAM1B,KAAK2B,KAAL,CAAWD,IAF8D;AAG/EE,qBAAK5B,KAAK2B,KAAL,CAAWC;AAH+D,aAAzD,CAAV,CAAN;AAKV5B,iBAAKiB,MAAL,GAAcjC,GAAd;AACH;AACJ,KA9EQ,CAAT;AA+EAW,SAAKkC,IAAL,CAAU/B,EAAV;;AAEA;AACAH,SAAKmC,OAAL,GAAe,IAAIjC,UAAJ,EAAf;AACA,QAAIC,KAAK,IAAIC,UAAJ,CAAe,UAASC,IAAT,EAAeC,OAAf,EAAuB;AAC3C,YAAID,gBAAgB+B,eAAhB,IAAmC/B,KAAKU,KAA5C,EAAmD;AAC/CV,iBAAKU,KAAL,CAAWO,MAAX,CAAkBvD,UAAlB,CAA6BsE,IAA7B,CAAkChC,IAAlC;AACA,mBAAO,IAAP;AACH;AACD,YAAIA,gBAAgBiC,aAApB,EAAmC;AAC/B,gBAAIxE,OAAOuC,KAAKvC,IAAhB;AACA,gBAAIA,QAAQ,MAAR,IAAkBqC,GAAGoC,MAAH,cAAuBC,QAA7C,EAAuD;AACnD,qBAAK,IAAIpD,IAAIiB,KAAK1C,KAAlB,EAAyByB,KAAK,CAACA,EAAEV,SAAjC,EAA4CU,IAAIA,EAAEG,YAAlD,EAAgE;AAC5DH,sBAAEV,SAAF,GAAc,IAAd;AACH;AACJ;AACD,gBAAIW,MAAMgB,KAAK1C,KAAL,CAAWgE,aAAX,CAAyB7D,IAAzB,CAAV;AACA,gBAAIuC,KAAK1C,KAAL,YAAsB8E,UAAtB,IAAoC3E,QAAQ,WAAhD,EAA6D;AACzDuC,qBAAK1C,KAAL,CAAW+E,cAAX,GAA4B,IAA5B;AACH;AACD,gBAAI,CAACrD,GAAL,EAAU;AACNA,sBAAMW,KAAK2C,UAAL,CAAgBtC,IAAhB,CAAN;AACH;AACDA,iBAAKiB,MAAL,GAAcjC,GAAd;AACAgB,iBAAKuB,SAAL,CAAerD,OAAf;AACA,mBAAO,IAAP;AACH;AACJ,KAvBQ,CAAT;AAwBAyB,SAAKkC,IAAL,CAAU/B,EAAV;;AAEA;AACA,QAAI5B,QAAQe,GAAZ,EAAiB;AACbU,aAAKkC,IAAL,CAAU,IAAI9B,UAAJ,CAAe,UAASC,IAAT,EAAeC,OAAf,EAAwB;AAC7C,gBAAID,gBAAgBwB,eAApB,EAAqC;AACjC,oBAAI/D,OAAOuC,KAAKvC,IAAhB;AACA,oBAAI8E,OAAOvC,KAAKiB,MAAL,CAAYvD,UAAvB;AACA,oBAAIJ,QAAQ0C,KAAKiB,MAAL,CAAY7B,KAAxB;AACA,oBAAID,MAAM7B,MAAMgE,aAAN,CAAoB7D,IAApB,KAA6BkC,KAAKmC,OAAL,CAAahD,GAAb,CAAiBrB,IAAjB,CAA7B,IAAuDH,MAAM8D,YAAN,CAAmBpB,IAAnB,CAAjE;AACAuC,qBAAKC,OAAL,CAAa,UAASC,GAAT,EAAc;AACvBA,wBAAIxB,MAAJ,GAAa9B,GAAb;AACAsD,wBAAIlB,SAAJ,CAAcrD,OAAd;AACH,iBAHD;AAIA8B,qBAAKiB,MAAL,GAAc9B,GAAd;AACA,uBAAO,IAAP;AACH;AACJ,SAbS,CAAV;AAcH;;AAED,QAAIjB,QAAQS,KAAZ,EAAmB;AACf,aAAK+D,KAAL,GAAaxE,QAAQS,KAAR,CAAc+D,KAA3B;AACH;AACJ,CA7ID;;AA+IAlD,aAAaC,SAAb,CAAuB,YAAvB,EAAqC,UAASO,IAAT,EAAc;AAC/C,QAAI8B,UAAU,KAAKA,OAAnB;AAAA,QAA4BrE,OAAOuC,KAAKvC,IAAxC;AACA,QAAIqE,QAAQjD,GAAR,CAAYpB,IAAZ,CAAJ,EAAuB;AACnB,eAAOqE,QAAQhD,GAAR,CAAYrB,IAAZ,CAAP;AACH,KAFD,MAEO;AACH,YAAIkF,IAAI,IAAItF,SAAJ,CAAc,IAAd,EAAoByE,QAAQc,IAAR,EAApB,EAAoC5C,IAApC,CAAR;AACA2C,UAAE9E,UAAF,GAAe,IAAf;AACA8E,UAAEhF,MAAF,GAAW,IAAX;AACAmE,gBAAQvC,GAAR,CAAY9B,IAAZ,EAAkBkF,CAAlB;AACA,eAAOA,CAAP;AACH;AACJ,CAXD;;AAaAvC,UAAUX,SAAV,CAAoB,iBAApB,EAAuC,UAASP,YAAT,EAAsB;AACzD,SAAKG,SAAL,GAAiB,IAAIQ,UAAJ,EAAjB,CADyD,CACrB;AACpC,SAAKgD,SAAL,GAAiB,IAAIhD,UAAJ,EAAjB,CAFyD,CAErB;AACpC,SAAKvB,SAAL,GAAiB,KAAjB,CAHyD,CAGrB;AACpC,SAAKD,SAAL,GAAiB,KAAjB,CAJyD,CAIrB;AACpC,SAAKa,YAAL,GAAoBA,YAApB,CALyD,CAKrB;AACpC,SAAK4D,QAAL,GAAgB,EAAhB,CANyD,CAMrB;AACpC,SAAKJ,KAAL,GAAa,CAAC,CAAd,CAPyD,CAOrB;AACvC,CARD;;AAUAN,WAAW3C,SAAX,CAAqB,iBAArB,EAAwC,YAAU;AAC9CW,cAAUpC,SAAV,CAAoBqC,eAApB,CAAoC0C,KAApC,CAA0C,IAA1C,EAAgDC,SAAhD;AACA,SAAKX,cAAL,GAAsB,KAAtB;AACA,SAAKjB,YAAL,CAAkB,IAAI6B,gBAAJ,CAAqB;AACnCxF,cAAM,WAD6B;AAEnCkE,eAAO,KAAKA,KAFuB;AAGnCuB,aAAK,KAAKA;AAHyB,KAArB,CAAlB;AAKH,CARD;;AAUAnC,WAAWtB,SAAX,CAAqB,eAArB,EAAsC,UAASvB,OAAT,EAAkB;AACpD,QAAIiB,MAAM,KAAKgE,UAAL,EAAV;AACA,QAAIpE,IAAI,KAAKzB,KAAb;AACA,WAAOyB,CAAP,EAAU;AACNqE,kBAAUrE,EAAE+D,QAAZ,EAAsB3D,GAAtB;AACA,YAAIjB,QAAQK,WAAZ,EAAyB;AACrBQ,cAAE8D,SAAF,CAAYQ,IAAZ,CAAiB,UAASC,CAAT,EAAY;AACzBF,0BAAUjE,IAAI7B,KAAJ,CAAUwF,QAApB,EAA8BQ,CAA9B;AACH,aAFD;AAGH;AACD,YAAIvE,MAAMI,IAAI7B,KAAd,EAAqB;AACrByB,YAAIA,EAAEG,YAAN;AACH;AACJ,CAbD;;AAeA6B,WAAWtB,SAAX,CAAqB,WAArB,EAAkC,UAASvB,OAAT,EAAkB;AAChD,SAAKiF,UAAL,GAAkBzF,UAAlB,CAA6BsE,IAA7B,CAAkC,IAAlC;AACA,SAAKX,aAAL,CAAmBnD,OAAnB;AACH,CAHD;;AAKAkC,UAAUX,SAAV,CAAoB,eAApB,EAAqC,UAAShC,IAAT,EAAc;AAC/C,QAAIA,gBAAgBsD,UAApB,EAAgCtD,OAAOA,KAAKA,IAAZ;AAChC,WAAO,KAAK4B,SAAL,CAAeP,GAAf,CAAmBrB,IAAnB,KACC,KAAKyB,YAAL,IAAqB,KAAKA,YAAL,CAAkBoC,aAAlB,CAAgC7D,IAAhC,CAD7B;AAEH,CAJD;;AAMA2C,UAAUX,SAAV,CAAoB,cAApB,EAAoC,UAAS8D,MAAT,EAAgB;AAChD,SAAKV,SAAL,CAAetD,GAAf,CAAmBgE,OAAO9F,IAA1B,EAAgC,KAAK2D,YAAL,CAAkBmC,MAAlB,CAAhC;AACH,CAFD;;AAIAnD,UAAUX,SAAV,CAAoB,cAApB,EAAoC,UAAS8D,MAAT,EAAgB;AAChD,QAAIpE,GAAJ;AACA,QAAI,CAAC,KAAKE,SAAL,CAAeR,GAAf,CAAmB0E,OAAO9F,IAA1B,CAAL,EAAsC;AAClC0B,cAAM,IAAI9B,SAAJ,CAAc,IAAd,EAAoB,KAAKgC,SAAL,CAAeuD,IAAf,EAApB,EAA2CW,MAA3C,CAAN;AACA,aAAKlE,SAAL,CAAeE,GAAf,CAAmBgE,OAAO9F,IAA1B,EAAgC0B,GAAhC;AACAA,YAAIxB,MAAJ,GAAa,CAAC,KAAKuB,YAAnB;AACH,KAJD,MAIO;AACHC,cAAM,KAAKE,SAAL,CAAeP,GAAf,CAAmByE,OAAO9F,IAA1B,CAAN;AACA0B,YAAI3B,IAAJ,CAASwE,IAAT,CAAcuB,MAAd;AACH;AACD,WAAOA,OAAOtC,MAAP,GAAgB9B,GAAvB;AACH,CAXD;;AAaAiB,UAAUX,SAAV,CAAoB,cAApB,EAAoC,UAASvB,OAAT,EAAiB;AACjD,QAAIsF,MAAM,KAAKV,QAAf;AACAW,SAAK,OAAO,IAAP,EAAa;AACd,YAAIC,IAAIC,OAAO,EAAE,KAAKjB,KAAd,CAAR;AACA,YAAI,CAACkB,cAAcF,CAAd,CAAL,EAAuB,SAFT,CAEmB;;AAEjC;AACA;AACA,YAAIxF,QAAQ2F,QAAR,CAAiBC,OAAjB,CAAyBJ,CAAzB,KAA+B,CAAnC,EAAsC;;AAEtC;AACA;AACA;AACA,aAAK,IAAIK,IAAIP,IAAIQ,MAAjB,EAAyB,EAAED,CAAF,IAAO,CAAhC,GAAoC;AAChC,gBAAI/E,MAAMwE,IAAIO,CAAJ,CAAV;AACA,gBAAItG,OAAOuB,IAAIpB,YAAJ,IAAqBoB,IAAIf,YAAJ,CAAiBC,OAAjB,KAA6Bc,IAAIvB,IAAjE;AACA,gBAAIiG,KAAKjG,IAAT,EAAe,SAASgG,GAAT;AAClB;AACD,eAAOC,CAAP;AACH;AACJ,CApBD;;AAsBAO,aAAaxE,SAAb,CAAuB,cAAvB,EAAuC,UAASvB,OAAT,EAAkBiB,GAAlB,EAAsB;AACzD;AACA;AACA;;AAEA,QAAI+E,aAAa/E,IAAI3B,IAAJ,CAAS,CAAT,aAAuByF,gBAAvB,IAA2C,KAAKxF,IAAhD,IAAwD,KAAKA,IAAL,CAAU0F,UAAV,EAAzE;;AAEA;AACA,QAAIgB,cAAcD,aAAaA,WAAWtG,YAAX,IAA2BsG,WAAWzG,IAAnD,GAA0D,IAA5E;;AAEA,WAAO,IAAP,EAAa;AACT,YAAIA,OAAO2E,WAAWpE,SAAX,CAAqBsB,YAArB,CAAkC8E,IAAlC,CAAuC,IAAvC,EAA6ClG,OAA7C,EAAsDiB,GAAtD,CAAX;AACA,YAAI,CAACgF,WAAD,IAAgBA,eAAe1G,IAAnC,EACI,OAAOA,IAAP;AACP;AACJ,CAfD;;AAiBAsD,WAAWtB,SAAX,CAAqB,cAArB,EAAqC,UAASvB,OAAT,EAAiB;AAClD,WAAO,KAAKiF,UAAL,GAAkBlF,YAAlB,CAA+BC,OAA/B,CAAP;AACH,CAFD;;AAIA;AACA8C,UAAUvB,SAAV,CAAoB,cAApB,EAAoC4E,YAApC;;AAEAtD,WAAWtB,SAAX,CAAqB,cAArB,EAAqC,YAAU;AAC3C,WAAO,KAAK0D,UAAL,GAAkBzF,UAAlB,CAA6BsG,MAA7B,IAAuC,CAAvC,IACA,EAAE,KAAK1G,KAAL,CAAWe,SAAX,IAAwB,KAAKf,KAAL,CAAWgB,SAArC,CADP;AAEH,CAHD;;AAKAyC,WAAWtB,SAAX,CAAqB,YAArB,EAAmC,YAAU;AACzC,WAAO,KAAK0D,UAAL,GAAkBtF,UAAzB;AACH,CAFD;;AAIA4D,aAAahC,SAAb,CAAuB,YAAvB,EAAqC4E,YAArC;;AAEArD,UAAUvB,SAAV,CAAoB,YAApB,EAAkC4E,YAAlC;;AAEAtD,WAAWtB,SAAX,CAAqB,YAArB,EAAmC,YAAU;AACzC,WAAO,KAAKwB,MAAZ;AACH,CAFD;;AAIAF,WAAWtB,SAAX,CAAqB,QAArB,EAA+B,YAAU;AACrC,WAAO,KAAK0D,UAAL,GAAkBxF,MAAzB;AACH,CAFD;;AAIA6B,aAAaC,SAAb,CAAuB,0BAAvB,EAAmD,UAASvB,OAAT,EAAiB;AAChE,WAAOwB,SAASxB,OAAT,EAAkB;AACrBE,cAAc,KADO;AAErBa,aAAc,KAFO;AAGrBV,qBAAc,KAHO;AAIrBsF,kBAAc,EAJO;AAKrB1F,kBAAc;AALO,KAAlB,CAAP;AAOH,CARD;;AAUAqB,aAAaC,SAAb,CAAuB,cAAvB,EAAuC,UAASvB,OAAT,EAAiB;AACpDA,cAAU,KAAKoG,wBAAL,CAA8BpG,OAA9B,CAAV;;AAEA;AACAA,YAAQ2F,QAAR,CAAiB7B,IAAjB,CAAsB,WAAtB;;AAEA;AACA;AACA;AACA;AACA,QAAIuC,QAAQ,CAAC,CAAb;AACA,QAAIC,YAAY,EAAhB;;AAEA,QAAItG,QAAQS,KAAZ,EAAmB;AACf,aAAKmD,OAAL,CAAauB,IAAb,CAAkB,UAASE,MAAT,EAAgB;AAC9B,gBAAIrF,QAAQ2F,QAAR,CAAiBC,OAAjB,CAAyBP,OAAO9F,IAAhC,IAAwC,CAA5C,EAA+C;AAC3C+G,0BAAUxC,IAAV,CAAeuB,MAAf;AACH;AACJ,SAJD;AAKH;;AAED,QAAIzD,KAAK,IAAIC,UAAJ,CAAe,UAASC,IAAT,EAAeC,OAAf,EAAuB;AAC3C,YAAID,gBAAgBQ,oBAApB,EAA0C;AACtC;AACA,gBAAIiE,eAAeF,KAAnB;AACAtE;AACAsE,oBAAQE,YAAR;AACA,mBAAO,IAAP,CALsC,CAKlB;AACvB;AACD,YAAIzE,gBAAgBI,SAApB,EAA+B;AAC3B,gBAAIsE,IAAI5E,GAAGoC,MAAH,EAAR;AAAA,gBAAqByC,IAAI,EAAzB;AACA3E,iBAAKX,SAAL,CAAegE,IAAf,CAAoB,UAASE,MAAT,EAAgB;AAChC,oBAAIrF,QAAQ2F,QAAR,CAAiBC,OAAjB,CAAyBP,OAAO9F,IAAhC,IAAwC,CAA5C,EAA+C;AAC3CkH,sBAAE3C,IAAF,CAAOuB,MAAP;AACH;AACJ,aAJD;AAKAiB,sBAAUxC,IAAV,CAAee,KAAf,CAAqByB,SAArB,EAAgCG,CAAhC;AACA;AACH;AACD,YAAI3E,gBAAgBgB,SAApB,EAA+B;AAC3B,gBAAIvD,IAAJ;AACA;AAAGA,uBAAOkG,OAAO,EAAEY,KAAT,CAAP;AAAH,qBAAkC,CAACX,cAAcnG,IAAd,CAAnC;AACAuC,iBAAKpC,YAAL,GAAoBH,IAApB;AACA,mBAAO,IAAP;AACH;AACD,YAAI,CAACS,QAAQe,GAAT,IAAgBe,gBAAgBwB,eAApC,EAAqD;AACjDgD,sBAAUxC,IAAV,CAAehC,KAAKmD,UAAL,EAAf;AACA;AACH;AACJ,KA5BQ,CAAT;AA6BA,SAAKtB,IAAL,CAAU/B,EAAV;AACA0E,cAAUhC,OAAV,CAAkB,UAASrD,GAAT,EAAa;AAAEA,YAAIT,MAAJ,CAAWR,OAAX;AAAqB,KAAtD;;AAEA,QAAIA,QAAQS,KAAZ,EAAmB;AACfT,gBAAQS,KAAR,CAAc+D,KAAd,GAAsB,KAAKA,KAA3B;AACH;AACJ,CAxDD;;AA0DAlD,aAAaC,SAAb,CAAuB,wBAAvB,EAAiD,UAASvB,OAAT,EAAiB;AAC9DA,cAAU,KAAKoG,wBAAL,CAA8BpG,OAA9B,CAAV;AACA,QAAI4B,KAAK,IAAIC,UAAJ,CAAe,UAASC,IAAT,EAAc;AAClC,YAAIA,gBAAgB4E,YAApB,EACIjB,OAAOkB,QAAP,CAAgB7E,KAAK8E,eAAL,EAAhB,EADJ,KAEK,IAAI9E,gBAAgB+E,UAApB,EACDpB,OAAOkB,QAAP,CAAgB,QAAhB,EADC,KAEA,IAAI7E,gBAAgBgF,SAApB,EACDrB,OAAOkB,QAAP,CAAgB,OAAhB,EADC,KAEA,IAAI7E,gBAAgBiF,YAApB,EACDtB,OAAOkB,QAAP,CAAgB,UAAhB,EADC,KAEA,IAAI7E,gBAAgBkF,SAApB,EACDvB,OAAOkB,QAAP,CAAgB,OAAhB,EADC,KAEA,IAAI7E,gBAAgBmF,YAApB,EACDxB,OAAOkB,QAAP,CAAgB,UAAhB,EADC,KAEA,IAAI7E,gBAAgBoF,aAApB,EACDzB,OAAOkB,QAAP,CAAgB7E,KAAKqF,KAArB,EADC,KAEA,IAAIrF,gBAAgBsF,SAApB,EACD3B,OAAOkB,QAAP,CAAgB,OAAhB,EADC,KAEA,IAAI7E,gBAAgBuF,MAApB,EACD5B,OAAOkB,QAAP,CAAgB,UAAhB,EADC,KAEA,IAAI7E,gBAAgBwF,MAApB,EAA4B;AAC7B7B,mBAAOkB,QAAP,CAAgB,IAAhB;AACA,gBAAI7E,KAAKyF,WAAT,EAAsB9B,OAAOkB,QAAP,CAAgB,MAAhB;AACzB,SAHI,MAIA,IAAI7E,gBAAgB0F,OAApB,EACD/B,OAAOkB,QAAP,CAAgB,KAAhB,EADC,KAEA,IAAI7E,gBAAgBoC,UAApB,EACDuB,OAAOkB,QAAP,CAAgB,UAAhB,EADC,KAEA,IAAI7E,gBAAgB2F,OAApB,EACDhC,OAAOkB,QAAP,CAAgB,KAAhB,EADC,KAEA,IAAI7E,gBAAgB4F,SAApB,EACDjC,OAAOkB,QAAP,CAAgB,QAAhB,EADC,KAEA,IAAI7E,gBAAgB6F,UAApB,EACDlC,OAAOkB,QAAP,CAAgB,QAAhB,EADC,KAEA,IAAI7E,gBAAgB8F,QAApB,EACDnC,OAAOkB,QAAP,CAAgB,MAAhB,EADC,KAEA,IAAI7E,gBAAgB+F,WAApB,EACDpC,OAAOkB,QAAP,CAAgB,SAAhB,EADC,KAEA,IAAI7E,gBAAgBc,QAApB,EACD6C,OAAOkB,QAAP,CAAgB,MAAhB,EADC,KAEA,IAAI7E,gBAAgBgG,gBAApB,EACDrC,OAAOkB,QAAP,CAAgB,QAAQ7E,KAAKiG,GAA7B,EADC,KAEA,IAAIjG,gBAAgBkG,gBAApB,EACDvC,OAAOkB,QAAP,CAAgB,QAAQ7E,KAAKiG,GAA7B,EADC,KAEA,IAAIjG,gBAAgBmG,gBAApB,EACDxC,OAAOkB,QAAP,CAAgB7E,KAAKiG,GAArB,EADC,KAEA,IAAIjG,gBAAgBoG,OAApB,EACDzC,OAAOkB,QAAP,CAAgB,KAAhB,EADC,KAEA,IAAI7E,gBAAgBqG,QAApB,EACD1C,OAAOkB,QAAP,CAAgB,MAAhB,EADC,KAEA,IAAI7E,gBAAgBsG,OAApB,EACD3C,OAAOkB,QAAP,CAAgB,KAAhB,EADC,KAEA,IAAI7E,gBAAgBE,SAApB,EACDyD,OAAOkB,QAAP,CAAgB,OAAhB,EADC,KAEA,IAAI7E,gBAAgBuG,WAApB,EACD5C,OAAOkB,QAAP,CAAgB,SAAhB,EADC,KAEA,IAAI7E,gBAAgBe,UAAhB,IAA8Bf,KAAK/B,YAAL,CAAkBC,OAAlB,CAAlC,EACDyF,OAAOkB,QAAP,CAAgB7E,KAAKvC,IAArB,EADC,KAEA,IAAIuC,gBAAgBwG,SAAhB,IAA6BxG,gBAAgByG,UAAjD,EACD9C,OAAOkB,QAAP,CAAgB7E,KAAK0G,QAArB,EADC,KAEA,IAAI1G,gBAAgB2G,OAApB,EACDhD,OAAOkB,QAAP,CAAgB7E,KAAK4G,QAArB;AACP,KA7DQ,CAAT;AA8DA,SAAK/E,IAAL,CAAU/B,EAAV;AACA6D,WAAOkD,IAAP;AACH,CAlED;;AAoEA,IAAIlD,SAAU,YAAW;AACrB,QAAImD,SAAS,kEAAb;AACA,QAAIC,KAAJ,EAAWC,SAAX;AACA,aAASC,KAAT,GAAiB;AACbD,oBAAYE,OAAOC,MAAP,CAAc,IAAd,CAAZ;AACAJ,gBAAQD,OAAOM,KAAP,CAAa,EAAb,EAAiBC,GAAjB,CAAqB,UAASC,EAAT,EAAY;AAAE,mBAAOA,GAAGC,UAAH,CAAc,CAAd,CAAP;AAAyB,SAA5D,CAAR;AACAR,cAAMvE,OAAN,CAAc,UAAS8E,EAAT,EAAY;AAAEN,sBAAUM,EAAV,IAAgB,CAAhB;AAAmB,SAA/C;AACH;AACD3D,WAAOkB,QAAP,GAAkB,UAAS2C,GAAT,EAAa;AAC3B,aAAK,IAAIzD,IAAIyD,IAAIxD,MAAjB,EAAyB,EAAED,CAAF,IAAO,CAAhC,GAAoC;AAChC,gBAAI0D,OAAOD,IAAID,UAAJ,CAAexD,CAAf,CAAX;AACA,gBAAI0D,QAAQT,SAAZ,EAAuB,EAAEA,UAAUS,IAAV,CAAF;AAC1B;AACJ,KALD;AAMA9D,WAAOkD,IAAP,GAAc,YAAW;AACrBE,gBAAQW,UAAUX,KAAV,EAAiB,UAASpC,CAAT,EAAYgD,CAAZ,EAAc;AACnC,gBAAIC,SAASjD,CAAT,KAAe,CAACiD,SAASD,CAAT,CAApB,EAAiC,OAAO,CAAP;AACjC,gBAAIC,SAASD,CAAT,KAAe,CAACC,SAASjD,CAAT,CAApB,EAAiC,OAAO,CAAC,CAAR;AACjC,mBAAOqC,UAAUW,CAAV,IAAeX,UAAUrC,CAAV,CAAtB;AACH,SAJO,CAAR;AAKH,KAND;AAOAhB,WAAOsD,KAAP,GAAeA,KAAf;AACAA;AACAtD,WAAO7E,GAAP,GAAa,YAAU;AAAE,eAAOiI,KAAP;AAAc,KAAvC;AACApD,WAAOkE,IAAP,GAAc,YAAU;AAAE,eAAOb,SAAP;AAAkB,KAA5C;AACA,aAASrD,MAAT,CAAgBmE,GAAhB,EAAqB;AACjB,YAAIC,MAAM,EAAV;AAAA,YAAcC,OAAO,EAArB;AACAF;AACA,WAAG;AACCA;AACAC,mBAAOE,OAAOC,YAAP,CAAoBnB,MAAMe,MAAME,IAAZ,CAApB,CAAP;AACAF,kBAAMK,KAAKC,KAAL,CAAWN,MAAME,IAAjB,CAAN;AACAA,mBAAO,EAAP;AACH,SALD,QAKSF,MAAM,CALf;AAMA,eAAOC,GAAP;AACH;AACD,WAAOpE,MAAP;AACH,CArCY,EAAb","file":"scope.js","sourcesContent":["/***********************************************************************\n\n  A JavaScript tokenizer / parser / beautifier / compressor.\n  https://github.com/mishoo/UglifyJS2\n\n  -------------------------------- (C) ---------------------------------\n\n                           Author: Mihai Bazon\n                         <mihai.bazon@gmail.com>\n                       http://mihai.bazon.net/blog\n\n  Distributed under the BSD license:\n\n    Copyright 2012 (c) Mihai Bazon <mihai.bazon@gmail.com>\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions\n    are met:\n\n        * Redistributions of source code must retain the above\n          copyright notice, this list of conditions and the following\n          disclaimer.\n\n        * Redistributions in binary form must reproduce the above\n          copyright notice, this list of conditions and the following\n          disclaimer in the documentation and/or other materials\n          provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER “AS IS” AND ANY\n    EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY,\n    OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n    THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR\n    TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\n    THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n    SUCH DAMAGE.\n\n ***********************************************************************/\n\n\"use strict\";\n\nfunction SymbolDef(scope, index, orig) {\n    this.name = orig.name;\n    this.orig = [ orig ];\n    this.scope = scope;\n    this.references = [];\n    this.global = false;\n    this.mangled_name = null;\n    this.undeclared = false;\n    this.index = index;\n    this.id = SymbolDef.next_id++;\n};\n\nSymbolDef.next_id = 1;\n\nSymbolDef.prototype = {\n    unmangleable: function(options) {\n        if (!options) options = {};\n\n        return (this.global && !options.toplevel)\n            || this.undeclared\n            || (!options.eval && (this.scope.uses_eval || this.scope.uses_with))\n            || (options.keep_fnames\n                && (this.orig[0] instanceof AST_SymbolLambda\n                    || this.orig[0] instanceof AST_SymbolDefun));\n    },\n    mangle: function(options) {\n        var cache = options.cache && options.cache.props;\n        if (this.global && cache && cache.has(this.name)) {\n            this.mangled_name = cache.get(this.name);\n        }\n        else if (!this.mangled_name && !this.unmangleable(options)) {\n            var s = this.scope;\n            var sym = this.orig[0];\n            if (options.ie8 && sym instanceof AST_SymbolLambda)\n                s = s.parent_scope;\n            var def;\n            if (this.defun && (def = this.defun.variables.get(this.name))) {\n                this.mangled_name = def.mangled_name || def.name;\n            } else\n                this.mangled_name = s.next_mangled(options, this);\n            if (this.global && cache) {\n                cache.set(this.name, this.mangled_name);\n            }\n        }\n    }\n};\n\nAST_Toplevel.DEFMETHOD(\"figure_out_scope\", function(options){\n    options = defaults(options, {\n        cache: null,\n        ie8: false,\n    });\n\n    // pass 1: setup scope chaining and handle definitions\n    var self = this;\n    var scope = self.parent_scope = null;\n    var labels = new Dictionary();\n    var defun = null;\n    var tw = new TreeWalker(function(node, descend){\n        if (node instanceof AST_Catch) {\n            var save_scope = scope;\n            scope = new AST_Scope(node);\n            scope.init_scope_vars(save_scope);\n            descend();\n            scope = save_scope;\n            return true;\n        }\n        if (node instanceof AST_Scope) {\n            node.init_scope_vars(scope);\n            var save_scope = scope;\n            var save_defun = defun;\n            var save_labels = labels;\n            defun = scope = node;\n            labels = new Dictionary();\n            descend();\n            scope = save_scope;\n            defun = save_defun;\n            labels = save_labels;\n            return true;        // don't descend again in TreeWalker\n        }\n        if (node instanceof AST_LabeledStatement) {\n            var l = node.label;\n            if (labels.has(l.name)) {\n                throw new Error(string_template(\"Label {name} defined twice\", l));\n            }\n            labels.set(l.name, l);\n            descend();\n            labels.del(l.name);\n            return true;        // no descend again\n        }\n        if (node instanceof AST_With) {\n            for (var s = scope; s; s = s.parent_scope)\n                s.uses_with = true;\n            return;\n        }\n        if (node instanceof AST_Symbol) {\n            node.scope = scope;\n        }\n        if (node instanceof AST_Label) {\n            node.thedef = node;\n            node.references = [];\n        }\n        if (node instanceof AST_SymbolLambda) {\n            defun.def_function(node);\n        }\n        else if (node instanceof AST_SymbolDefun) {\n            // Careful here, the scope where this should be defined is\n            // the parent scope.  The reason is that we enter a new\n            // scope when we encounter the AST_Defun node (which is\n            // instanceof AST_Scope) but we get to the symbol a bit\n            // later.\n            (node.scope = defun.parent_scope).def_function(node);\n        }\n        else if (node instanceof AST_SymbolVar) {\n            defun.def_variable(node);\n            if (defun !== scope) {\n                node.mark_enclosed(options);\n                var def = scope.find_variable(node);\n                if (node.thedef !== def) {\n                    node.thedef = def;\n                    node.reference(options);\n                }\n            }\n        }\n        else if (node instanceof AST_SymbolCatch) {\n            scope.def_variable(node).defun = defun;\n        }\n        else if (node instanceof AST_LabelRef) {\n            var sym = labels.get(node.name);\n            if (!sym) throw new Error(string_template(\"Undefined label {name} [{line},{col}]\", {\n                name: node.name,\n                line: node.start.line,\n                col: node.start.col\n            }));\n            node.thedef = sym;\n        }\n    });\n    self.walk(tw);\n\n    // pass 2: find back references and eval\n    self.globals = new Dictionary();\n    var tw = new TreeWalker(function(node, descend){\n        if (node instanceof AST_LoopControl && node.label) {\n            node.label.thedef.references.push(node);\n            return true;\n        }\n        if (node instanceof AST_SymbolRef) {\n            var name = node.name;\n            if (name == \"eval\" && tw.parent() instanceof AST_Call) {\n                for (var s = node.scope; s && !s.uses_eval; s = s.parent_scope) {\n                    s.uses_eval = true;\n                }\n            }\n            var sym = node.scope.find_variable(name);\n            if (node.scope instanceof AST_Lambda && name == \"arguments\") {\n                node.scope.uses_arguments = true;\n            }\n            if (!sym) {\n                sym = self.def_global(node);\n            }\n            node.thedef = sym;\n            node.reference(options);\n            return true;\n        }\n    });\n    self.walk(tw);\n\n    // pass 3: fix up any scoping issue with IE8\n    if (options.ie8) {\n        self.walk(new TreeWalker(function(node, descend) {\n            if (node instanceof AST_SymbolCatch) {\n                var name = node.name;\n                var refs = node.thedef.references;\n                var scope = node.thedef.defun;\n                var def = scope.find_variable(name) || self.globals.get(name) || scope.def_variable(node);\n                refs.forEach(function(ref) {\n                    ref.thedef = def;\n                    ref.reference(options);\n                });\n                node.thedef = def;\n                return true;\n            }\n        }));\n    }\n\n    if (options.cache) {\n        this.cname = options.cache.cname;\n    }\n});\n\nAST_Toplevel.DEFMETHOD(\"def_global\", function(node){\n    var globals = this.globals, name = node.name;\n    if (globals.has(name)) {\n        return globals.get(name);\n    } else {\n        var g = new SymbolDef(this, globals.size(), node);\n        g.undeclared = true;\n        g.global = true;\n        globals.set(name, g);\n        return g;\n    }\n});\n\nAST_Scope.DEFMETHOD(\"init_scope_vars\", function(parent_scope){\n    this.variables = new Dictionary();  // map name to AST_SymbolVar (variables defined in this scope; includes functions)\n    this.functions = new Dictionary();  // map name to AST_SymbolDefun (functions defined in this scope)\n    this.uses_with = false;             // will be set to true if this or some nested scope uses the `with` statement\n    this.uses_eval = false;             // will be set to true if this or nested scope uses the global `eval`\n    this.parent_scope = parent_scope;   // the parent scope\n    this.enclosed = [];                 // a list of variables from this or outer scope(s) that are referenced from this or inner scopes\n    this.cname = -1;                    // the current index for mangling functions/variables\n});\n\nAST_Lambda.DEFMETHOD(\"init_scope_vars\", function(){\n    AST_Scope.prototype.init_scope_vars.apply(this, arguments);\n    this.uses_arguments = false;\n    this.def_variable(new AST_SymbolFunarg({\n        name: \"arguments\",\n        start: this.start,\n        end: this.end\n    }));\n});\n\nAST_Symbol.DEFMETHOD(\"mark_enclosed\", function(options) {\n    var def = this.definition();\n    var s = this.scope;\n    while (s) {\n        push_uniq(s.enclosed, def);\n        if (options.keep_fnames) {\n            s.functions.each(function(d) {\n                push_uniq(def.scope.enclosed, d);\n            });\n        }\n        if (s === def.scope) break;\n        s = s.parent_scope;\n    }\n});\n\nAST_Symbol.DEFMETHOD(\"reference\", function(options) {\n    this.definition().references.push(this);\n    this.mark_enclosed(options);\n});\n\nAST_Scope.DEFMETHOD(\"find_variable\", function(name){\n    if (name instanceof AST_Symbol) name = name.name;\n    return this.variables.get(name)\n        || (this.parent_scope && this.parent_scope.find_variable(name));\n});\n\nAST_Scope.DEFMETHOD(\"def_function\", function(symbol){\n    this.functions.set(symbol.name, this.def_variable(symbol));\n});\n\nAST_Scope.DEFMETHOD(\"def_variable\", function(symbol){\n    var def;\n    if (!this.variables.has(symbol.name)) {\n        def = new SymbolDef(this, this.variables.size(), symbol);\n        this.variables.set(symbol.name, def);\n        def.global = !this.parent_scope;\n    } else {\n        def = this.variables.get(symbol.name);\n        def.orig.push(symbol);\n    }\n    return symbol.thedef = def;\n});\n\nAST_Scope.DEFMETHOD(\"next_mangled\", function(options){\n    var ext = this.enclosed;\n    out: while (true) {\n        var m = base54(++this.cname);\n        if (!is_identifier(m)) continue; // skip over \"do\"\n\n        // https://github.com/mishoo/UglifyJS2/issues/242 -- do not\n        // shadow a name reserved from mangling.\n        if (options.reserved.indexOf(m) >= 0) continue;\n\n        // we must ensure that the mangled name does not shadow a name\n        // from some parent scope that is referenced in this or in\n        // inner scopes.\n        for (var i = ext.length; --i >= 0;) {\n            var sym = ext[i];\n            var name = sym.mangled_name || (sym.unmangleable(options) && sym.name);\n            if (m == name) continue out;\n        }\n        return m;\n    }\n});\n\nAST_Function.DEFMETHOD(\"next_mangled\", function(options, def){\n    // #179, #326\n    // in Safari strict mode, something like (function x(x){...}) is a syntax error;\n    // a function expression's argument cannot shadow the function expression's name\n\n    var tricky_def = def.orig[0] instanceof AST_SymbolFunarg && this.name && this.name.definition();\n\n    // the function's mangled_name is null when keep_fnames is true\n    var tricky_name = tricky_def ? tricky_def.mangled_name || tricky_def.name : null;\n\n    while (true) {\n        var name = AST_Lambda.prototype.next_mangled.call(this, options, def);\n        if (!tricky_name || tricky_name != name)\n            return name;\n    }\n});\n\nAST_Symbol.DEFMETHOD(\"unmangleable\", function(options){\n    return this.definition().unmangleable(options);\n});\n\n// labels are always mangleable\nAST_Label.DEFMETHOD(\"unmangleable\", return_false);\n\nAST_Symbol.DEFMETHOD(\"unreferenced\", function(){\n    return this.definition().references.length == 0\n        && !(this.scope.uses_eval || this.scope.uses_with);\n});\n\nAST_Symbol.DEFMETHOD(\"undeclared\", function(){\n    return this.definition().undeclared;\n});\n\nAST_LabelRef.DEFMETHOD(\"undeclared\", return_false);\n\nAST_Label.DEFMETHOD(\"undeclared\", return_false);\n\nAST_Symbol.DEFMETHOD(\"definition\", function(){\n    return this.thedef;\n});\n\nAST_Symbol.DEFMETHOD(\"global\", function(){\n    return this.definition().global;\n});\n\nAST_Toplevel.DEFMETHOD(\"_default_mangler_options\", function(options){\n    return defaults(options, {\n        eval        : false,\n        ie8         : false,\n        keep_fnames : false,\n        reserved    : [],\n        toplevel    : false,\n    });\n});\n\nAST_Toplevel.DEFMETHOD(\"mangle_names\", function(options){\n    options = this._default_mangler_options(options);\n\n    // Never mangle arguments\n    options.reserved.push('arguments');\n\n    // We only need to mangle declaration nodes.  Special logic wired\n    // into the code generator will display the mangled name if it's\n    // present (and for AST_SymbolRef-s it'll use the mangled name of\n    // the AST_SymbolDeclaration that it points to).\n    var lname = -1;\n    var to_mangle = [];\n\n    if (options.cache) {\n        this.globals.each(function(symbol){\n            if (options.reserved.indexOf(symbol.name) < 0) {\n                to_mangle.push(symbol);\n            }\n        });\n    }\n\n    var tw = new TreeWalker(function(node, descend){\n        if (node instanceof AST_LabeledStatement) {\n            // lname is incremented when we get to the AST_Label\n            var save_nesting = lname;\n            descend();\n            lname = save_nesting;\n            return true;        // don't descend again in TreeWalker\n        }\n        if (node instanceof AST_Scope) {\n            var p = tw.parent(), a = [];\n            node.variables.each(function(symbol){\n                if (options.reserved.indexOf(symbol.name) < 0) {\n                    a.push(symbol);\n                }\n            });\n            to_mangle.push.apply(to_mangle, a);\n            return;\n        }\n        if (node instanceof AST_Label) {\n            var name;\n            do name = base54(++lname); while (!is_identifier(name));\n            node.mangled_name = name;\n            return true;\n        }\n        if (!options.ie8 && node instanceof AST_SymbolCatch) {\n            to_mangle.push(node.definition());\n            return;\n        }\n    });\n    this.walk(tw);\n    to_mangle.forEach(function(def){ def.mangle(options) });\n\n    if (options.cache) {\n        options.cache.cname = this.cname;\n    }\n});\n\nAST_Toplevel.DEFMETHOD(\"compute_char_frequency\", function(options){\n    options = this._default_mangler_options(options);\n    var tw = new TreeWalker(function(node){\n        if (node instanceof AST_Constant)\n            base54.consider(node.print_to_string());\n        else if (node instanceof AST_Return)\n            base54.consider(\"return\");\n        else if (node instanceof AST_Throw)\n            base54.consider(\"throw\");\n        else if (node instanceof AST_Continue)\n            base54.consider(\"continue\");\n        else if (node instanceof AST_Break)\n            base54.consider(\"break\");\n        else if (node instanceof AST_Debugger)\n            base54.consider(\"debugger\");\n        else if (node instanceof AST_Directive)\n            base54.consider(node.value);\n        else if (node instanceof AST_While)\n            base54.consider(\"while\");\n        else if (node instanceof AST_Do)\n            base54.consider(\"do while\");\n        else if (node instanceof AST_If) {\n            base54.consider(\"if\");\n            if (node.alternative) base54.consider(\"else\");\n        }\n        else if (node instanceof AST_Var)\n            base54.consider(\"var\");\n        else if (node instanceof AST_Lambda)\n            base54.consider(\"function\");\n        else if (node instanceof AST_For)\n            base54.consider(\"for\");\n        else if (node instanceof AST_ForIn)\n            base54.consider(\"for in\");\n        else if (node instanceof AST_Switch)\n            base54.consider(\"switch\");\n        else if (node instanceof AST_Case)\n            base54.consider(\"case\");\n        else if (node instanceof AST_Default)\n            base54.consider(\"default\");\n        else if (node instanceof AST_With)\n            base54.consider(\"with\");\n        else if (node instanceof AST_ObjectSetter)\n            base54.consider(\"set\" + node.key);\n        else if (node instanceof AST_ObjectGetter)\n            base54.consider(\"get\" + node.key);\n        else if (node instanceof AST_ObjectKeyVal)\n            base54.consider(node.key);\n        else if (node instanceof AST_New)\n            base54.consider(\"new\");\n        else if (node instanceof AST_This)\n            base54.consider(\"this\");\n        else if (node instanceof AST_Try)\n            base54.consider(\"try\");\n        else if (node instanceof AST_Catch)\n            base54.consider(\"catch\");\n        else if (node instanceof AST_Finally)\n            base54.consider(\"finally\");\n        else if (node instanceof AST_Symbol && node.unmangleable(options))\n            base54.consider(node.name);\n        else if (node instanceof AST_Unary || node instanceof AST_Binary)\n            base54.consider(node.operator);\n        else if (node instanceof AST_Dot)\n            base54.consider(node.property);\n    });\n    this.walk(tw);\n    base54.sort();\n});\n\nvar base54 = (function() {\n    var string = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789\";\n    var chars, frequency;\n    function reset() {\n        frequency = Object.create(null);\n        chars = string.split(\"\").map(function(ch){ return ch.charCodeAt(0) });\n        chars.forEach(function(ch){ frequency[ch] = 0 });\n    }\n    base54.consider = function(str){\n        for (var i = str.length; --i >= 0;) {\n            var code = str.charCodeAt(i);\n            if (code in frequency) ++frequency[code];\n        }\n    };\n    base54.sort = function() {\n        chars = mergeSort(chars, function(a, b){\n            if (is_digit(a) && !is_digit(b)) return 1;\n            if (is_digit(b) && !is_digit(a)) return -1;\n            return frequency[b] - frequency[a];\n        });\n    };\n    base54.reset = reset;\n    reset();\n    base54.get = function(){ return chars };\n    base54.freq = function(){ return frequency };\n    function base54(num) {\n        var ret = \"\", base = 54;\n        num++;\n        do {\n            num--;\n            ret += String.fromCharCode(chars[num % base]);\n            num = Math.floor(num / base);\n            base = 64;\n        } while (num > 0);\n        return ret;\n    };\n    return base54;\n})();\n"]}